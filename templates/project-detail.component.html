<div class="team_title" *ngIf="project">
    <div
      class="btn btn-default"
      (click)="goToProjects()"
    >
        <span class="glyphicon glyphicon-chevron-left"></span>
    </div>
    <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
    <h4 class="team_title-name">{{project.name}}</h4>
</div>
<ul class="boards_list">
    <div *ngIf="project">
    	<div *ngFor="#board of boards">
        <!-- Description hide -->
        <div
        	class="board m_bottom_sm"
        >
          <h3
            class="board_title"
      	    *ngIf="!(boardDetails.view === 'edit' && boardDetails.id === board.idBoard)"
          >{{board.name}}</h3>
          <span
            class="board_description"
            *ngIf="boardDetails.view === 'details' && boardDetails.id === board.idBoard"
          >{{board.description}}</span>

          <div
          	class="board_desc_ico"
          	(click)="onChangeView(board.idBoard, 'details')"
          	*ngIf="boardDetails.id === 0 || (boardDetails.id !== 0 && boardDetails.id !== board.idBoard)"
          >
              <span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>
          </div>
          <div
          	class="board_desc_ico m-right-lg"
          	(click)="onChangeView(board.idBoard, 'edit')"
          	*ngIf="boardDetails.view !== 'edit' || (boardDetails.view === 'edit' && boardDetails.id !== board.idBoard)"
          >
              <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
          </div>
          <!-- Description show -->
          <div
            class="board_desc_ico"
            (click)="onChangeView(0, 'view')"
            *ngIf="boardDetails.view === 'details' && boardDetails.id === board.idBoard"
          >
              <span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span>
          </div> 

          <!-- Edit board -->
          <form *ngIf="boardDetails.view === 'edit' && boardDetails.id === board.idBoard">
            <div class="form-group">
              <input
                type="text"
                class="form-control"
                [(ngModel)]="board.name"
                placeholder="Title board"
              >
            </div>
            <div class="form-group">
              <textarea
                class="form-control"
                rows="5"
                placeholder="Description"
                [(ngModel)]="board.description"
              ></textarea>
            </div>
            <div class="clearfix">
              <div
                class="btn btn-default pull-left"
                (click)="onChangeView(0, 'view')"
              >Cancel</div>
              <div
                class="btn btn-success pull-right"
                (click)="onChangeView(0, 'view')"
              >Save</div>
            </div>
          </form>

          <div class="container">
            <div class="row">
              <div class="col-xs-12 task task-add">
                <h3 class="new-title">Add Task</h3>
                <div
                  class="btn btn-default plus glyphicon glyphicon-plus"
                  (click)="onChangeTaskView(0, 'add')"
                  *ngIf="taskDetails.view !== 'add'"
                ></div>

                <div *ngIf="taskDetails.view === 'add'">
                  <fieldset class="form-group">
                    <input
                      type="text"
                      class="form-control input-task-name"
                      [(ngModel)]="taskNew.name"
                      placeholder="Name"
                    >
                  </fieldset>
                  <fieldset class="form-group">
                    <textarea
                      type="text"
                      class="form-control input-full-info"
                      [(ngModel)]="taskNew.description"
                      placeholder="Description"
                    ></textarea>
                  </fieldset>
                  <h3>Check List</h3>
                  <fieldset
                    class="form-group row"
                    *ngFor="#checkItem of taskNew.checkList"
                  >
                    <div
                      class="col-xs-12"
                    >
                      <div class="input-group">
                        <input
                          type="text"
                          class="form-control input-task-name"
                          [(ngModel)]="checkItem.name"
                        >
                        <span class="input-group-btn">
                          <div
                            class="btn btn-danger"
                            (click)="deleteCheckItem(taskNew, checkItem)"
                          >
                            <span class="glyphicon glyphicon-remove"></span>
                          </div>
                        </span>
                      </div>
                    </div>
                  </fieldset>

                  <fieldset class="form-group row">
                    <div class="col-xs-12">
                      <div class="input-group">
                        <input
                          type="text"
                          class="form-control input-task-name"
                          placeholder="Check Item"
                          [(ngModel)]="checkNewItem.name"
                        >
                        <span class="input-group-btn">
                          <div
                            class="btn btn-success"
                            (click)="addCheckItem(taskNew, checkNewItem)"
                          >
                            <span class="glyphicon glyphicon-ok"></span>
                          </div>
                        </span>
                      </div>
                    </div>
                  </fieldset>
                  <div
                    class="col-xs-6 btn btn-default cancel glyphicon glyphicon glyphicon-remove"
                    (click)="onChangeTaskView(0, 'view')"
                  ></div>
                  <div
                    class="col-xs-6 btn btn-default save glyphicon glyphicon glyphicon-ok"
                    (click)="addNewTask(taskNew)"
                  ></div>
                </div>
              </div>

              <div *ngFor="#task of tasks">
                <div
                  class="col-xs-12 task task-passive"
                  *ngIf="taskDetails.id === 0 || (taskDetails.view !== 'view' && taskDetails.id !== task.idTask)"
                >
                    <h3 class="task-name-info">{{ task.name }}</h3>
                    <div class="task-progress"><div style="width:15%">15%</div></div>
                    <div
                      class="col-xs-6 btn btn-default edit glyphicon glyphicon-pencil"
                      (click)="onChangeTaskView(task.idTask, 'edit')"
                    ></div>
                    <div
                      class="col-xs-6 btn btn-default look glyphicon glyphicon-eye-open"
                      (click)="onChangeTaskView(task.idTask, 'details')"
                    ></div>
                </div>
                
                <div
                  class="col-xs-12 task task-active"
                  *ngIf="taskDetails.id === task.idTask && taskDetails.view === 'details'"
                >
                    <h3 class="task-name-info">{{ task.name }}</h3>
                    <div class="task-full-info">{{ task.description }}</div>
                    <div class="task-progress empty"><div style="width:0">0</div></div>

                    <div class="task-full-info">
                      <div
                        class="checkbox"
                        *ngFor="#checkItem of task.checkList"
                      >
                        <label>
                          <input type="checkbox" value="" (change)="checkItem.checked = !checkItem.checked"/>{{ checkItem.name }}
                        </label>
                      </div>
                    </div>
                    <div class="task-progress"><div style="width:75%">75%</div></div>

                    <div
                      class="col-xs-6 btn btn-default edit glyphicon glyphicon-pencil"
                      (click)="onChangeTaskView(task.idTask, 'edit')"
                    ></div>
                    <div
                      class="col-xs-6 btn btn-default save glyphicon glyphicon-ok"
                      (click)="onChangeTaskView(0, 'view')"
                    ></div>
                </div>

                <div
                  class="col-xs-12 task task-edit"
                  *ngIf="taskDetails.id === task.idTask && taskDetails.view === 'edit'"
                >
                  <fieldset class="form-group">
                    <input
                      type="text"
                      class="form-control input-task-name"
                      [(ngModel)]="task.name"
                    >
                  </fieldset>
                  <fieldset class="form-group">
                    <textarea
                      type="text"
                      class="form-control input-full-info"
                      [(ngModel)]="task.description"
                    ></textarea>
                  </fieldset>
                  <h3>Check List</h3>
                  <fieldset
                    class="form-group row"
                    *ngFor="#checkItem of task.checkList"
                  >
                    <div
                      class="col-xs-12"
                    >
                      <div class="input-group">
                        <input
                          type="text"
                          class="form-control input-task-name"
                          [(ngModel)]="checkItem.name"
                        >
                        <span class="input-group-btn">
                          <div
                            class="btn btn-danger"
                            (click)="deleteCheckItem(task, checkItem)"
                          >
                            <span class="glyphicon glyphicon-remove"></span>
                          </div>
                        </span>
                      </div>
                    </div>
                  </fieldset>
                  <fieldset class="form-group row">
                    <div class="col-xs-12">
                      <div class="input-group">
                        <input
                          type="text"
                          class="form-control input-task-name"
                          [(ngModel)]="checkNewItem.name"
                        >
                        <span class="input-group-btn">
                          <div
                            class="btn btn-success"
                            (click)="addCheckItem(task, checkNewItem)"
                          >

                            <span class="glyphicon glyphicon-ok"></span>
                          </div>
                        </span>
                      </div>
                    </div>
                  </fieldset>

                  <!-- <a href="#" class="col-xs-6 btn btn-default check-list active">c</a>
                  <a href="#" class="col-xs-6 btn btn-default description">D</a> -->
                  <div
                    class="col-xs-6 btn btn-default cancel glyphicon glyphicon glyphicon-remove"
                    (click)="onChangeTaskView(0, 'view')"
                  ></div>
                  <div
                    class="col-xs-6 btn btn-default save glyphicon glyphicon glyphicon-ok"
                    (click)="onChangeTaskView(0, 'view')"
                  ></div>
                </div>
              </div>
            </div>
          </div>
        </div>


      </div>


      <!-- Add board -->
      <div class="board board-height m_bottom_sm">
        <h3 class="board_title">Add new board</h3>
        <span
          class="board_plus"
          *ngIf="boardDetails.view !== 'add'"
          (click)="onChangeView(0, 'add')"
        ></span>
        <form *ngIf="boardDetails.view === 'add'">
            <div class="form-group">
              <input
                type="text"
                class="form-control"
                [(ngModel)]="boardNew.name"
                placeholder="Title board"
              >
            </div>
            <div class="form-group">
              <textarea
                class="form-control"
                rows="5"
                placeholder="Description"
                [(ngModel)]="boardNew.description"
              ></textarea>
            </div>
            <div class="clearfix">
              <div
                class="btn btn-default pull-left"
                (click)="onChangeView(0, 'view')"
              >Cancel</div>
              <div
                class="btn btn-success pull-right"
                (click)="addBoard(boardNew)"
              >Add</div>
            </div>
          </form>
      </div>
    </div>
</ul>